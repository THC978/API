@page "/DPSCalc"



<table class="table">
    <tbody>
        <tr>
            <td> <h5>Dmg: <SfNumericTextBox Width="130px" Format="n1" Placeholder="0" CssClass="e-styleDmg" TValue="double?" @bind-Value="@AvgDmg"></SfNumericTextBox> </h5> </td>
            <td> <h5>Def: <SfNumericTextBox Width="130px" Format="n0" CssClass="e-styleDef" TValue="int?" @bind-Value="@DefValue"></SfNumericTextBox> </h5> </td>
        </tr>
        <tr>
            <td width="280px"> <h5>Dex: <SfNumericTextBox Width="130px" Format="n0" CssClass="e-styleDex" TValue="int?" @bind-Value="@DexValue"></SfNumericTextBox> </h5> </td>
            <td> <h5>Atk: <SfNumericTextBox Width="130px" Format="n0" CssClass="e-styleAtk" TValue="int?" @bind-Value="@AtkValue"></SfNumericTextBox> </h5> </td>
        </tr>
        <tr>
            <td> <h5>Proj: <SfNumericTextBox Width="130px" Format="n0" CssClass="e-styleDef" TValue="int?" @bind-Value="@ProjNum"></SfNumericTextBox> </h5> </td>
            <td> <h5>RoF: <SfNumericTextBox Width="130px" Format="n1" Max="1" Min="0.0" CssClass="e-styleDef" TValue="Double?" @bind-Value="@RoF"></SfNumericTextBox> </h5> </td>
        </tr>
        <tr>
            <SfCheckBox @bind-Checked="@DamagingActive" Label="Damaging"></SfCheckBox>
        </tr>
        <tr>
            <SfCheckBox @bind-Checked="@BeserkActive" Label="Berzerk"></SfCheckBox>
        </tr>
        <tr>
            <SfButton IsPrimary="true" Content="@Content" @onclick="Calculate"></SfButton>
        </tr>
    </tbody>
</table>

<h2>Your DPS is: @DPS</h2>

<style>
    /* To change color, font family and font size */
    .e-inplaceeditor .e-editable-value-wrapper .e-editable-value {
        border-bottom: 0px dotted green;
        color: black;
        font-size: 20px;
        font-family: Segoe UI
    }

    /* To change icon color for save button */
    .e-inplaceeditor .e-editable-action-buttons .e-btn-save.e-icon-btn .e-btn-icon.e-icons,
    .e-inplaceeditor-tip .e-editable-action-buttons .e-btn-save.e-icon-btn .e-btn-icon.e-icons {
        color: black;
    }

    /* To change background color for save button */
    .e-inplaceeditor .e-editable-action-buttons .e-btn-save.e-icon-btn,
    .e-inplaceeditor-tip .e-editable-action-buttons .e-btn-save.e-icon-btn {
        background-color: lightgreen;
    }

    /* To change icon color for cancel button */
    .e-inplaceeditor .e-editable-action-buttons .e-btn-cancel.e-icon-btn .e-btn-icon.e-icons, .e-inplaceeditor-tip .e-editable-action-buttons .e-btn-cancel.e-icon-btn .e-btn-icon.e-icons {
        color: black;
    }

    /* To change background color for cancel button */
    .e-inplaceeditor .e-editable-action-buttons .e-btn-cancel.e-icon-btn,
    .e-inplaceeditor-tip .e-editable-action-buttons .e-btn-cancel.e-icon-btn {
        background-color: lightcoral;
    }
</style>


@code {
    static string TextValue = "0";
    static int Count2 = 0;
    public string Content = "Calculate";
    private RenderMode Mode = RenderMode.Inline;
    private EditableType EditableOn = EditableType.Click;
    private bool ShowButtons { get; set; } = true;
    public double? AvgDmg { get; set; } = 100;
    public int? DefValue { get; set; } = 0;
    public int? DexValue { get; set; } = 50;
    public int? AtkValue { get; set; } = 50;
    public int? ProjNum { get; set; } = 1;
    public Double? RoF { get; set; } = 1;
    static double DPS = 0;
    private bool DamagingActive = false;
    private bool BeserkActive = false;
    static double AvgDmgDamaging = 0;
    private string DropMode { get; set; } = "Inline";
    private string DropEdit { get; set; } = "Click";

    private void Calculate(Microsoft.AspNetCore.Components.Web.MouseEventArgs args)
    {
        double AvgDmg2 = Convert.ToDouble(AvgDmg);
        double DexValue2 = Convert.ToDouble(DexValue);
        double AtkValue2 = Convert.ToDouble(AtkValue);
        double ProjNum2 = Convert.ToDouble(ProjNum);
        double RoF2 = Convert.ToDouble(RoF);


        if (DamagingActive == true && BeserkActive == false)
        {
            AvgDmgDamaging = AvgDmg2 * 1.5;
            DPS = ((AvgDmgDamaging * (0.5 + AtkValue2 / 50)) * ProjNum2) * (1.5 + 6.5 * (DexValue2 / 75)) * RoF2;
        }
        else if (BeserkActive == true && DamagingActive == false)
        {
            double AvgDmgBeserk = DexValue2 * 1.6;
            DPS = ((AvgDmg2 * (0.5 + AtkValue2 / 50)) * ProjNum2) * (1.5 + 6.5 * (DexValue2 / 75)) * RoF2 * 1.5;
        }
        else if (BeserkActive == true && DamagingActive == true)
        {
            DPS = ((AvgDmgDamaging * (0.5 + AtkValue2 / 50)) * ProjNum2) * (1.5 + 6.5 * (DexValue2 / 75)) * RoF2 * 1.5;
        }
        else
        {
            DPS = ((AvgDmg2 * (0.5 + AtkValue2 / 50)) * ProjNum2) * (1.5 + 6.5 * (DexValue2 / 75)) * RoF2;
        }
    }

    private void Calculate2(Microsoft.AspNetCore.Components.Web.MouseEventArgs args)
    {
        double AvgDmg2 = Convert.ToDouble(AvgDmg);
        double DexValue2 = Convert.ToDouble(DexValue);
        double AtkValue2 = Convert.ToDouble(AtkValue);
        double ProjNum2 = Convert.ToDouble(ProjNum);
        double RoF2 = Convert.ToDouble(RoF);
        if (DamagingActive == true || BeserkActive == false)
        {
            AvgDmgDamaging = AvgDmg2 * 1.5;
            DPS = ((AvgDmgDamaging * (0.5 + AtkValue2 / 50)) * ProjNum2) * (1.5 + 6.5 * (DexValue2 / 75)) * RoF2;
        }
        else if (BeserkActive == true || DamagingActive == false)
        {
            DPS = ((AvgDmg2 * (0.5 + AtkValue2 / 50)) * ProjNum2) * (1.5 + 6.5 * (DexValue2 / 75)) * RoF2 * 1.5;
        }
        else if (BeserkActive == true && DamagingActive == true)
        {
            DPS = ((AvgDmgDamaging * (0.5 + AtkValue2 / 50)) * ProjNum2) * (1.5 + 6.5 * (DexValue2 / 75)) * RoF2 * 1.5;
        }
        else
        {
            DPS = ((AvgDmg2 * (0.5 + AtkValue2 / 50)) * ProjNum2) * (1.5 + 6.5 * (DexValue2 / 75)) * RoF2;
        }
    }

    private object NumericModel = new
    {
        value = 0
    };

    public void UpdateValue()
    {
    }

}

<style>
    /*  Atk Numeric Text Box Style  */
    .e-numeric.e-styleAtk .e-control.e-numerictextbox {
        color: mediumpurple;
        font-size: 20px;
        border: 0px;
    }

    .e-input-group.e-styleAtk.e-control-wrapper:not(.e-success):not(.e-warning):not(.e-error):not(.e-float-icon-left), .e-float-input.e-control-wrapper:hover:not(.e-success):not(.e-warning):not(.e-error):not(.e-disabled):not(.e-float-icon-left) {
        border-color: mediumpurple;
    }

    .e-control-wrapper.e-numeric.e-float-input.e-styleAtk .e-spin-down {
        color: mediumpurple;
    }

    .e-control-wrapper.e-numeric.e-float-input.e-styleAtk .e-float-line::before {
        background: mediumpurple;
    }

    .e-control-wrapper.e-numeric.e-float-input.e-styleAtk .e-float-line::after {
        background: mediumpurple;
    }

    .e-control-wrapper.e-numeric.e-float-input.e-styleAtk .e-spin-up {
        color: mediumpurple;
    }

    .e-control-wrapper.e-numeric.e-float-input.e-styleAtk.e-input-group .e-float-text.e-label-top {
        color: mediumpurple;
        font-size: 10px;
    }

    .e-numeric.e-styleAtk .e-input-group-icon.e-spin-up:before {
        content: "\e823";
        color: mediumpurple;
    }

    .e-numeric.e-styleAtk .e-input-group-icon.e-spin-down:before {
        content: "\e934";
        color: mediumpurple;
    }
</style>


<style>
    /*  Dex Numeric Text Box Style  */
    .e-numeric.e-styleDex .e-control.e-numerictextbox {
        color: orange;
        font-size: 20px;
        border: 0px;
    }

    .e-input-group.e-styleDex.e-control-wrapper:not(.e-success):not(.e-warning):not(.e-error):not(.e-float-icon-left), .e-float-input.e-control-wrapper:hover:not(.e-success):not(.e-warning):not(.e-error):not(.e-disabled):not(.e-float-icon-left) {
        border-color: orange;
    }

    .e-control-wrapper.e-numeric.e-float-input.e-styleDex .e-spin-down {
        color: orange;
    }

    .e-control-wrapper.e-numeric.e-float-input.e-styleDex .e-float-line::before {
        background: orange;
    }

    .e-control-wrapper.e-numeric.e-float-input.e-styleDex .e-float-line::after {
        background: orange;
    }

    .e-control-wrapper.e-numeric.e-float-input.e-styleDex .e-spin-up {
        color: orange;
    }

    .e-control-wrapper.e-numeric.e-float-input.e-styleDex.e-input-group .e-float-text.e-label-top {
        color: orange;
        font-size: 10px;
    }

    .e-numeric.e-styleDex .e-input-group-icon.e-spin-up:before {
        content: "\e823";
        color: orange;
    }

    .e-numeric.e-styleDex .e-input-group-icon.e-spin-down:before {
        content: "\e934";
        color: orange;
    }
</style>

<style>
    /*  Def Numeric Text Box Style  */
    .e-numeric.e-styleDef .e-control.e-numerictextbox {
        color: gray;
        font-size: 20px;
        border: 0px;
    }

    .e-input-group.e-styleDef.e-control-wrapper:not(.e-success):not(.e-warning):not(.e-error):not(.e-float-icon-left), .e-float-input.e-control-wrapper:hover:not(.e-success):not(.e-warning):not(.e-error):not(.e-disabled):not(.e-float-icon-left) {
        border-color: gray;
    }

    .e-control-wrapper.e-numeric.e-float-input.e-styleDef .e-spin-down {
        color: gray;
    }

    .e-control-wrapper.e-numeric.e-float-input.e-styleDef .e-float-line::before {
        background: gray;
    }

    .e-control-wrapper.e-numeric.e-float-input.e-styleDef .e-float-line::after {
        background: gray;
    }

    .e-control-wrapper.e-numeric.e-float-input.e-styleDef .e-spin-up {
        color: gray;
    }

    .e-control-wrapper.e-numeric.e-float-input.e-styleDef.e-input-group .e-float-text.e-label-top {
        color: gray;
        font-size: 10px;
    }

    .e-numeric.e-styleDef .e-input-group-icon.e-spin-up:before {
        content: "\e823";
        color: gray;
    }

    .e-numeric.e-styleDef .e-input-group-icon.e-spin-down:before {
        content: "\e934";
        color: gray;
    }
</style>

<style>
    /*  AvgDmg Numeric Text Box Style  */
    .e-numeric.e-styleDmg .e-control.e-numerictextbox {
        color: red;
        font-size: 20px;
        border: 0px;
    }

    .e-input-group.e-styleDmg.e-control-wrapper:not(.e-success):not(.e-warning):not(.e-error):not(.e-float-icon-left), .e-float-input.e-control-wrapper:hover:not(.e-success):not(.e-warning):not(.e-error):not(.e-disabled):not(.e-float-icon-left) {
        border-color: red;
    }

    .e-control-wrapper.e-numeric.e-float-input.e-styleDmg .e-spin-down {
        color: red;
    }

    .e-control-wrapper.e-numeric.e-float-input.e-styleDmg .e-float-line::before {
        background: red;
    }

    .e-control-wrapper.e-numeric.e-float-input.e-styleDmg .e-float-line::after {
        background: red;
    }

    .e-control-wrapper.e-numeric.e-float-input.e-styleDmg .e-spin-up {
        color: red;
    }

    .e-control-wrapper.e-numeric.e-float-input.e-styleDmg.e-input-group .e-float-text.e-label-top {
        color: red;
        font-size: 10px;
    }

    .e-numeric.e-styleDmg .e-input-group-icon.e-spin-up:before {
        content: "\e823";
        color: red;
    }

    .e-numeric.e-styleDmg .e-input-group-icon.e-spin-down:before {
        content: "\e934";
        color: red;
    }
</style>